import { defaultContainer } from "../core/defaultContainer";
import { STRING } from '../const/validator.const';
import { ApplicationUtil } from '../util/app-util';
import { RX_WEB_VALIDATOR } from "../const";
export function baseValidator(config, type, validator) {
    var rxwebValidator = (control, target) => {
        if (typeof control == STRING)
            defaultContainer.init(target, 0, control, type, config, false);
        else {
            if (config && (!control.validatorConfig || !control.validatorConfig[type]))
                ApplicationUtil.configureControl(control, config, type);
            return validator(control);
        }
        return null;
    };
    Object.defineProperty(rxwebValidator, "name", { value: RX_WEB_VALIDATOR });
    return rxwebValidator;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS12YWxpZGF0b3IuZnVuY3Rpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzLyIsInNvdXJjZXMiOlsidmFsaWRhdG9ycy1leHRlbnNpb24vYmFzZS12YWxpZGF0b3IuZnVuY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMEJBQTBCLENBQUE7QUFDM0QsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFNUMsTUFBTSxVQUFVLGFBQWEsQ0FBQyxNQUFXLEVBQUUsSUFBUyxFQUFFLFNBQW1CO0lBQ3JFLElBQUksY0FBYyxHQUFHLENBQUMsT0FBWSxFQUFFLE1BQWUsRUFBMEIsRUFBRTtRQUMzRSxJQUFJLE9BQU8sT0FBTyxJQUFJLE1BQU07WUFDeEIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsS0FBSyxDQUFDLENBQUM7YUFDOUQ7WUFDQSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGVBQWUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3RFLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzVELE9BQVEsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDLENBQUE7SUFDRCxNQUFNLENBQUMsY0FBYyxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLE9BQU8sY0FBYyxDQUFDO0FBQzFCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm5cclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gXCIuLi9jb3JlL2RlZmF1bHRDb250YWluZXJcIlxyXG5pbXBvcnQgeyBTVFJJTkcgfSBmcm9tICcuLi9jb25zdC92YWxpZGF0b3IuY29uc3QnO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tICcuLi91dGlsL2FwcC11dGlsJztcclxuaW1wb3J0IHsgUlhfV0VCX1ZBTElEQVRPUiB9IGZyb20gXCIuLi9jb25zdFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VWYWxpZGF0b3IoY29uZmlnOiBhbnksIHR5cGU6IGFueSwgdmFsaWRhdG9yOiBGdW5jdGlvbik6IFZhbGlkYXRvckZuIHtcclxuICAgIHZhciByeHdlYlZhbGlkYXRvciA9IChjb250cm9sOiBhbnksIHRhcmdldD86IG9iamVjdCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY29udHJvbCA9PSBTVFJJTkcpXHJcbiAgICAgICAgICAgIGRlZmF1bHRDb250YWluZXIuaW5pdCh0YXJnZXQsIDAsIGNvbnRyb2wsIHR5cGUsIGNvbmZpZyxmYWxzZSk7XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiAoIWNvbnRyb2wudmFsaWRhdG9yQ29uZmlnIHx8ICFjb250cm9sLnZhbGlkYXRvckNvbmZpZ1t0eXBlXSkpXHJcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblV0aWwuY29uZmlndXJlQ29udHJvbChjb250cm9sLCBjb25maWcsIHR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gIHZhbGlkYXRvcihjb250cm9sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyeHdlYlZhbGlkYXRvciwgXCJuYW1lXCIsIHsgdmFsdWU6IFJYX1dFQl9WQUxJREFUT1IgfSk7XHJcbiAgICByZXR1cm4gcnh3ZWJWYWxpZGF0b3I7XHJcbn1cclxuIl19