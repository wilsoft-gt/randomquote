import { defaultContainer } from "../core/defaultContainer";
import { STRING } from '../const/validator.const';
import { ApplicationUtil } from '../util/app-util';
import { RX_WEB_VALIDATOR } from "../const";
export function baseValidator(config, type, validator) {
    var rxwebValidator = function (control, target) {
        if (typeof control == STRING)
            defaultContainer.init(target, 0, control, type, config, false);
        else {
            if (config && (!control.validatorConfig || !control.validatorConfig[type]))
                ApplicationUtil.configureControl(control, config, type);
            return validator(control);
        }
        return null;
    };
    Object.defineProperty(rxwebValidator, "name", { value: RX_WEB_VALIDATOR });
    return rxwebValidator;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS12YWxpZGF0b3IuZnVuY3Rpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzLyIsInNvdXJjZXMiOlsidmFsaWRhdG9ycy1leHRlbnNpb24vYmFzZS12YWxpZGF0b3IuZnVuY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMEJBQTBCLENBQUE7QUFDM0QsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFNUMsTUFBTSxVQUFVLGFBQWEsQ0FBQyxNQUFXLEVBQUUsSUFBUyxFQUFFLFNBQW1CO0lBQ3JFLElBQUksY0FBYyxHQUFHLFVBQUMsT0FBWSxFQUFFLE1BQWU7UUFDL0MsSUFBSSxPQUFPLE9BQU8sSUFBSSxNQUFNO1lBQ3hCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzlEO1lBQ0EsSUFBSSxNQUFNLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFlLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0RSxlQUFlLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1RCxPQUFRLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5QjtRQUNELE9BQU8sSUFBSSxDQUFBO0lBQ2YsQ0FBQyxDQUFBO0lBQ0QsTUFBTSxDQUFDLGNBQWMsQ0FBQyxjQUFjLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQztJQUMzRSxPQUFPLGNBQWMsQ0FBQztBQUMxQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tIFwiLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyXCJcclxuaW1wb3J0IHsgU1RSSU5HIH0gZnJvbSAnLi4vY29uc3QvdmFsaWRhdG9yLmNvbnN0JztcclxuaW1wb3J0IHsgQXBwbGljYXRpb25VdGlsIH0gZnJvbSAnLi4vdXRpbC9hcHAtdXRpbCc7XHJcbmltcG9ydCB7IFJYX1dFQl9WQUxJREFUT1IgfSBmcm9tIFwiLi4vY29uc3RcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiYXNlVmFsaWRhdG9yKGNvbmZpZzogYW55LCB0eXBlOiBhbnksIHZhbGlkYXRvcjogRnVuY3Rpb24pOiBWYWxpZGF0b3JGbiB7XHJcbiAgICB2YXIgcnh3ZWJWYWxpZGF0b3IgPSAoY29udHJvbDogYW55LCB0YXJnZXQ/OiBvYmplY3QpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGNvbnRyb2wgPT0gU1RSSU5HKVxyXG4gICAgICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmluaXQodGFyZ2V0LCAwLCBjb250cm9sLCB0eXBlLCBjb25maWcsZmFsc2UpO1xyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcgJiYgKCFjb250cm9sLnZhbGlkYXRvckNvbmZpZyB8fCAhY29udHJvbC52YWxpZGF0b3JDb25maWdbdHlwZV0pKVxyXG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb25VdGlsLmNvbmZpZ3VyZUNvbnRyb2woY29udHJvbCwgY29uZmlnLCB0eXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuICB2YWxpZGF0b3IoY29udHJvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocnh3ZWJWYWxpZGF0b3IsIFwibmFtZVwiLCB7IHZhbHVlOiBSWF9XRUJfVkFMSURBVE9SIH0pO1xyXG4gICAgcmV0dXJuIHJ4d2ViVmFsaWRhdG9yO1xyXG59XHJcbiJdfQ==